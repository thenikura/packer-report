
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Linnworks Packing Report</title>
<style>
  body{font-family:system-ui,Arial,sans-serif;margin:20px;max-width:1200px;}
  h3{margin-top:28px;margin-bottom:12px;}
  .panels{display:flex;gap:16px;flex-wrap:wrap;}
  .filters{border:1px solid #ccc;padding:12px;background:#fafafa;border-radius:6px;min-width:260px}
  table{border-collapse:collapse;width:100%;margin-bottom:20px;table-layout:fixed;}
  th,td{border:1px solid #ddd;padding:6px 8px;font-size:13px;text-align:center;}
  thead th{background:#f8f8f8;font-weight:600;}
  tbody tr:nth-child(even) td{background:#fafafa;}
  svg{display:block;margin:10px auto 30px auto;}
  label{display:inline-block;margin:4px 0;}
</style>
</head>
<body>

<h1>Linnworks Packing Report</h1>

<div class="panels">
  <div class="filters">
    <strong>Processed Date Range</strong><br/>
    <label>From: <input type="date" id="fromDate" value="2025-09-19"></label><br/>
    <label>To: <input type="date" id="toDate" value="2025-09-28"></label><br/>
    <button id="applyBtn">Apply</button>
    <div id="rangeInfo" style="margin-top:6px;color:#555;font-size:12px"></div>
  </div>

  <div class="filters">
    <strong>Show Packers</strong><br/>
    <label><input type="checkbox" class="user-toggle" data-user="packer1@nikura.com" checked/> packer1@nikura.com</label><br/><label><input type="checkbox" class="user-toggle" data-user="packer3@nikura.com" checked/> packer3@nikura.com</label><br/><label><input type="checkbox" class="user-toggle" data-user="packer6@nikura.com" checked/> packer6@nikura.com</label><br/><label><input type="checkbox" class="user-toggle" data-user="packer7@nikura.com" checked/> packer7@nikura.com</label><br/><label><input type="checkbox" class="user-toggle" data-user="packer8@nikura.com" checked/> packer8@nikura.com</label><br/><label><input type="checkbox" class="user-toggle" data-user="packer9@nikura.com" checked/> packer9@nikura.com</label><br/>
  </div>
</div>

<h3>Dispatched per Hour (Compact)</h3>
<div id="table-wrapper"></div>

<h3>Dispatched per Hour (Chart)</h3>
<div id="chart-orders"></div>

<h3>Average Minutes per Order (Chart)</h3>
<div id="chart-avg"></div>

<h3>Total Dispatched</h3>
<div id="totals-table"></div>

<script>
const RAW_EVENTS = [{"user":"packer8@nikura.com","date":"2025-09-24T16:11:01.743Z"},{"user":"packer8@nikura.com","date":"2025-09-24T16:10:19.503Z"},{"user":"packer8@nikura.com","date":"2025-09-24T16:09:36.937Z"},{"user":"packer8@nikura.com","date":"2025-09-24T16:08:49.477Z"},{"user":"packer1@nikura.com","date":"2025-09-24T16:07:37.653Z"},{"user":"packer8@nikura.com","date":"2025-09-24T16:07:54.613Z"},{"user":"packer8@nikura.com","date":"2025-09-24T16:06:58.91Z"},{"user":"packer8@nikura.com","date":"2025-09-24T16:06:07.553Z"},{"user":"packer8@nikura.com","date":"2025-09-24T16:05:37.473Z"},{"user":"packer1@nikura.com","date":"2025-09-24T16:02:55.55Z"},{"user":"packer1@nikura.com","date":"2025-09-24T16:01:19.547Z"},{"user":"packer1@nikura.com","date":"2025-09-24T16:00:18.907Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:58:53.763Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:57:47.29Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:56:33.46Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:54:49.37Z"},{"user":"packer9@nikura.com","date":"2025-09-24T15:54:04.18Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:53:21.303Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:53:18.77Z"},{"user":"packer6@nikura.com","date":"2025-09-24T15:53:13.677Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:52:20.89Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:51:59.44Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:50:06.953Z"},{"user":"packer6@nikura.com","date":"2025-09-24T15:48:40.77Z"},{"user":"packer9@nikura.com","date":"2025-09-24T15:48:34.783Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:46:42.187Z"},{"user":"packer6@nikura.com","date":"2025-09-24T15:45:11.077Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:44:51.95Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:43:36.227Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:43:05.463Z"},{"user":"packer6@nikura.com","date":"2025-09-24T15:41:52.927Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:41:51.99Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:40:57.907Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:40:21.047Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:38:43.41Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:36:38.803Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:36:15.79Z"},{"user":"packer6@nikura.com","date":"2025-09-24T15:35:19.17Z"},{"user":"packer8@nikura.com","date":"2025-09-24T15:34:51.837Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:34:38.707Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:33:56.45Z"},{"user":"packer8@nikura.com","date":"2025-09-24T15:16:29.093Z"},{"user":"packer8@nikura.com","date":"2025-09-24T15:31:40.703Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:31:29.887Z"},{"user":"packer6@nikura.com","date":"2025-09-24T15:30:24.68Z"},{"user":"packer9@nikura.com","date":"2025-09-24T15:30:00.86Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:29:49.717Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:29:13.17Z"},{"user":"packer9@nikura.com","date":"2025-09-24T15:29:02.84Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:26:00.117Z"},{"user":"packer8@nikura.com","date":"2025-09-24T15:25:56.953Z"},{"user":"packer6@nikura.com","date":"2025-09-24T15:24:50.31Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:24:40.613Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:23:50.463Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:23:50.45Z"},{"user":"packer6@nikura.com","date":"2025-09-24T15:21:29.883Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:21:29.01Z"},{"user":"packer9@nikura.com","date":"2025-09-24T15:21:06.24Z"},{"user":"packer8@nikura.com","date":"2025-09-24T15:20:20.423Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:18:49.783Z"},{"user":"packer6@nikura.com","date":"2025-09-24T15:18:30.58Z"},{"user":"packer9@nikura.com","date":"2025-09-24T15:17:34.487Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:17:23.583Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:15:38.227Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:15:25.193Z"},{"user":"packer6@nikura.com","date":"2025-09-24T15:13:09.053Z"},{"user":"packer8@nikura.com","date":"2025-09-24T15:12:10.88Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:12:05.69Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:11:32.01Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:10:46.69Z"},{"user":"packer8@nikura.com","date":"2025-09-24T15:10:17.283Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:09:33.967Z"},{"user":"packer8@nikura.com","date":"2025-09-24T15:07:59.09Z"},{"user":"packer6@nikura.com","date":"2025-09-24T15:07:25.313Z"},{"user":"packer8@nikura.com","date":"2025-09-24T15:06:55.387Z"},{"user":"packer8@nikura.com","date":"2025-09-24T15:04:53.33Z"},{"user":"packer1@nikura.com","date":"2025-09-24T15:04:37.557Z"},{"user":"packer6@nikura.com","date":"2025-09-24T15:03:47.61Z"},{"user":"packer8@nikura.com","date":"2025-09-24T15:02:36.94Z"},{"user":"packer3@nikura.com","date":"2025-09-24T15:00:19.26Z"},{"user":"packer8@nikura.com","date":"2025-09-24T15:00:16.13Z"},{"user":"packer6@nikura.com","date":"2025-09-24T15:00:00.477Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:57:35.78Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:56:36.107Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:55:28.423Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:53:07.953Z"},{"user":"packer7@nikura.com","date":"2025-09-24T14:51:20.067Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:51:14.067Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:50:49.73Z"},{"user":"packer7@nikura.com","date":"2025-09-24T14:49:18.853Z"},{"user":"packer7@nikura.com","date":"2025-09-24T14:47:57.08Z"},{"user":"packer7@nikura.com","date":"2025-09-24T14:46:35.693Z"},{"user":"packer7@nikura.com","date":"2025-09-24T14:45:22.847Z"},{"user":"packer7@nikura.com","date":"2025-09-24T14:43:56.823Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:43:48.75Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:42:30.41Z"},{"user":"packer7@nikura.com","date":"2025-09-24T14:41:59.963Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:41:10.043Z"},{"user":"packer7@nikura.com","date":"2025-09-24T14:39:53.047Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:39:24.537Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:39:08.953Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:38:52.317Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:37:44.017Z"},{"user":"packer7@nikura.com","date":"2025-09-24T14:37:40.467Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:36:47.887Z"},{"user":"packer7@nikura.com","date":"2025-09-24T14:36:46.697Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:36:03.353Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:35:45.503Z"},{"user":"packer7@nikura.com","date":"2025-09-24T14:34:55.59Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:34:52.247Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:34:38.95Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:33:53.023Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:33:17.553Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:32:29.493Z"},{"user":"packer7@nikura.com","date":"2025-09-24T14:32:24.22Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:31:57.837Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:30:12.903Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:29:38.803Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:29:04.393Z"},{"user":"packer7@nikura.com","date":"2025-09-24T14:28:49.797Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:28:34.85Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:28:07.923Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:27:18.5Z"},{"user":"packer7@nikura.com","date":"2025-09-24T14:26:26.883Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:25:51.197Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:25:46.637Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:25:43.107Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:23:59.37Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:23:31.017Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:22:20.513Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:22:06.45Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:22:03.62Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:20:10.79Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:19:10.753Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:18:21.083Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:18:14.48Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:18:05.307Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:16:23.127Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:15:19.387Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:14:42.967Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:14:19.83Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:12:17.817Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:12:00.57Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:10:37.593Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:10:18.907Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:09:33.907Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:09:04.88Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:08:25.04Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:07:35.223Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:06:58.73Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:06:11.72Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:05:55.43Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:04:54.667Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:03:39.91Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:03:32.363Z"},{"user":"packer1@nikura.com","date":"2025-09-24T14:01:34.1Z"},{"user":"packer6@nikura.com","date":"2025-09-24T14:00:40.947Z"},{"user":"packer3@nikura.com","date":"2025-09-24T14:00:13.86Z"},{"user":"packer1@nikura.com","date":"2025-09-24T13:59:05.957Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:57:58.647Z"},{"user":"packer6@nikura.com","date":"2025-09-24T13:57:30.56Z"},{"user":"packer7@nikura.com","date":"2025-09-24T13:57:14.483Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:56:47.51Z"},{"user":"packer1@nikura.com","date":"2025-09-24T13:56:47.477Z"},{"user":"packer7@nikura.com","date":"2025-09-24T13:55:37.853Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:55:37.107Z"},{"user":"packer8@nikura.com","date":"2025-09-24T13:54:57.93Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:54:00.223Z"},{"user":"packer6@nikura.com","date":"2025-09-24T13:53:10.2Z"},{"user":"packer7@nikura.com","date":"2025-09-24T13:52:38.963Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:52:27.487Z"},{"user":"packer1@nikura.com","date":"2025-09-24T13:51:39.433Z"},{"user":"packer8@nikura.com","date":"2025-09-24T13:51:43.74Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:50:35.373Z"},{"user":"packer8@nikura.com","date":"2025-09-24T13:49:18.893Z"},{"user":"packer6@nikura.com","date":"2025-09-24T13:49:02.25Z"},{"user":"packer8@nikura.com","date":"2025-09-24T13:47:33.783Z"},{"user":"packer7@nikura.com","date":"2025-09-24T13:47:27.737Z"},{"user":"packer7@nikura.com","date":"2025-09-24T13:47:50.257Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:46:36.51Z"},{"user":"packer6@nikura.com","date":"2025-09-24T13:45:58.87Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:43:59.753Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:43:19.18Z"},{"user":"packer6@nikura.com","date":"2025-09-24T13:43:13.517Z"},{"user":"packer8@nikura.com","date":"2025-09-24T13:42:44.113Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:42:00.28Z"},{"user":"packer7@nikura.com","date":"2025-09-24T13:41:46.747Z"},{"user":"packer6@nikura.com","date":"2025-09-24T13:39:35.56Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:37:00.45Z"},{"user":"packer6@nikura.com","date":"2025-09-24T13:35:56.18Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:35:23.393Z"},{"user":"packer7@nikura.com","date":"2025-09-24T13:34:10.58Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:33:08.073Z"},{"user":"packer6@nikura.com","date":"2025-09-24T13:32:54.513Z"},{"user":"packer7@nikura.com","date":"2025-09-24T13:32:32.783Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:31:08.78Z"},{"user":"packer6@nikura.com","date":"2025-09-24T13:28:34.29Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:28:13.317Z"},{"user":"packer7@nikura.com","date":"2025-09-24T13:26:54.477Z"},{"user":"packer7@nikura.com","date":"2025-09-24T13:23:52.21Z"},{"user":"packer7@nikura.com","date":"2025-09-24T10:43:27.6Z"},{"user":"packer3@nikura.com","date":"2025-09-24T10:42:43.723Z"},{"user":"packer1@nikura.com","date":"2025-09-24T10:42:18.803Z"},{"user":"packer8@nikura.com","date":"2025-09-24T10:41:54.963Z"},{"user":"packer7@nikura.com","date":"2025-09-24T10:41:00.08Z"},{"user":"packer6@nikura.com","date":"2025-09-24T10:40:46.287Z"},{"user":"packer3@nikura.com","date":"2025-09-24T10:40:43.177Z"},{"user":"packer8@nikura.com","date":"2025-09-24T10:39:09.22Z"},{"user":"packer1@nikura.com","date":"2025-09-24T10:38:15.58Z"},{"user":"packer7@nikura.com","date":"2025-09-24T10:37:41.457Z"},{"user":"packer3@nikura.com","date":"2025-09-24T10:36:51.55Z"},{"user":"packer1@nikura.com","date":"2025-09-24T10:35:51.4Z"},{"user":"packer8@nikura.com","date":"2025-09-24T10:35:51.373Z"},{"user":"packer7@nikura.com","date":"2025-09-24T10:35:30.66Z"},{"user":"packer3@nikura.com","date":"2025-09-24T10:35:14.63Z"},{"user":"packer6@nikura.com","date":"2025-09-24T10:34:39.44Z"},{"user":"packer8@nikura.com","date":"2025-09-24T10:33:28.443Z"},{"user":"packer7@nikura.com","date":"2025-09-24T10:33:20.04Z"},{"user":"packer1@nikura.com","date":"2025-09-24T10:33:11.24Z"},{"user":"packer3@nikura.com","date":"2025-09-24T10:32:43.82Z"},{"user":"packer1@nikura.com","date":"2025-09-24T10:31:08.85Z"},{"user":"packer3@nikura.com","date":"2025-09-24T10:30:33.647Z"},{"user":"packer8@nikura.com","date":"2025-09-24T10:30:33.53Z"},{"user":"packer6@nikura.com","date":"2025-09-24T10:30:22.16Z"},{"user":"packer7@nikura.com","date":"2025-09-24T10:30:12.377Z"},{"user":"packer1@nikura.com","date":"2025-09-24T10:28:20.393Z"},{"user":"packer7@nikura.com","date":"2025-09-24T10:27:36.323Z"},{"user":"packer3@nikura.com","date":"2025-09-24T10:27:05.103Z"},{"user":"packer8@nikura.com","date":"2025-09-24T10:26:31.447Z"},{"user":"packer6@nikura.com","date":"2025-09-24T10:26:01.793Z"},{"user":"packer1@nikura.com","date":"2025-09-24T10:25:53.417Z"},{"user":"packer7@nikura.com","date":"2025-09-24T10:25:31.04Z"},{"user":"packer7@nikura.com","date":"2025-09-24T10:24:23.783Z"},{"user":"packer7@nikura.com","date":"2025-09-24T10:23:24.16Z"},{"user":"packer8@nikura.com","date":"2025-09-24T10:22:30.987Z"},{"user":"packer7@nikura.com","date":"2025-09-24T10:22:09.23Z"},{"user":"packer6@nikura.com","date":"2025-09-24T10:20:43.09Z"},{"user":"packer3@nikura.com","date":"2025-09-24T10:19:57.557Z"},{"user":"packer8@nikura.com","date":"2025-09-24T10:19:24.96Z"},{"user":"packer6@nikura.com","date":"2025-09-24T10:16:47.8Z"},{"user":"packer3@nikura.com","date":"2025-09-24T10:16:43.49Z"},{"user":"packer8@nikura.com","date":"2025-09-24T10:15:27.963Z"},{"user":"packer1@nikura.com","date":"2025-09-24T10:14:51.017Z"},{"user":"packer7@nikura.com","date":"2025-09-24T10:14:47.747Z"},{"user":"packer7@nikura.com","date":"2025-09-24T10:13:53.873Z"},{"user":"packer8@nikura.com","date":"2025-09-24T10:12:43.42Z"},{"user":"packer3@nikura.com","date":"2025-09-24T10:10:47.797Z"},{"user":"packer8@nikura.com","date":"2025-09-24T10:10:56.467Z"},{"user":"packer6@nikura.com","date":"2025-09-24T10:11:25.01Z"},{"user":"packer1@nikura.com","date":"2025-09-24T10:10:46.673Z"},{"user":"packer1@nikura.com","date":"2025-09-24T10:10:37.913Z"},{"user":"packer1@nikura.com","date":"2025-09-24T10:09:19.047Z"},{"user":"packer3@nikura.com","date":"2025-09-24T10:08:16.703Z"},{"user":"packer8@nikura.com","date":"2025-09-24T10:08:01.407Z"},{"user":"packer1@nikura.com","date":"2025-09-24T10:07:51.097Z"},{"user":"packer6@nikura.com","date":"2025-09-24T10:07:41.77Z"},{"user":"packer1@nikura.com","date":"2025-09-24T10:06:21.137Z"},{"user":"packer8@nikura.com","date":"2025-09-24T10:05:20.39Z"},{"user":"packer1@nikura.com","date":"2025-09-24T10:04:10.917Z"},{"user":"packer6@nikura.com","date":"2025-09-24T10:03:34.36Z"},{"user":"packer3@nikura.com","date":"2025-09-24T10:02:51.593Z"},{"user":"packer1@nikura.com","date":"2025-09-24T10:02:45.717Z"},{"user":"packer8@nikura.com","date":"2025-09-24T10:02:43.613Z"},{"user":"packer1@nikura.com","date":"2025-09-24T10:01:14.98Z"},{"user":"packer1@nikura.com","date":"2025-09-24T09:59:57.43Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:59:07.99Z"},{"user":"packer6@nikura.com","date":"2025-09-24T09:58:39.17Z"},{"user":"packer1@nikura.com","date":"2025-09-24T09:58:33.163Z"},{"user":"packer1@nikura.com","date":"2025-09-24T09:56:59.2Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:56:46.733Z"},{"user":"packer6@nikura.com","date":"2025-09-24T09:55:35.3Z"},{"user":"packer1@nikura.com","date":"2025-09-24T09:54:56.55Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:54:42.273Z"},{"user":"packer8@nikura.com","date":"2025-09-24T09:53:34.907Z"},{"user":"packer6@nikura.com","date":"2025-09-24T09:52:08.86Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:52:06.457Z"},{"user":"packer8@nikura.com","date":"2025-09-24T09:51:36.25Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:51:09.853Z"},{"user":"packer1@nikura.com","date":"2025-09-24T09:50:16.71Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:50:06.233Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:49:27.827Z"},{"user":"packer1@nikura.com","date":"2025-09-24T09:48:51.737Z"},{"user":"packer8@nikura.com","date":"2025-09-24T09:47:57.627Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:47:10.607Z"},{"user":"packer1@nikura.com","date":"2025-09-24T09:46:54.763Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:45:17.113Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:45:09.2Z"},{"user":"packer1@nikura.com","date":"2025-09-24T09:45:14.31Z"},{"user":"packer8@nikura.com","date":"2025-09-24T09:44:55.947Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:44:23.043Z"},{"user":"packer1@nikura.com","date":"2025-09-24T09:43:34.5Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:42:43.647Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:41:51.797Z"},{"user":"packer1@nikura.com","date":"2025-09-24T09:41:00.6Z"},{"user":"packer6@nikura.com","date":"2025-09-24T09:40:56.503Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:40:46.733Z"},{"user":"packer1@nikura.com","date":"2025-09-24T09:39:12.237Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:38:46.68Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:38:43.087Z"},{"user":"packer8@nikura.com","date":"2025-09-24T09:37:43.883Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:37:42.633Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:36:43.85Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:36:44.72Z"},{"user":"packer1@nikura.com","date":"2025-09-24T09:36:33.35Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:35:51.31Z"},{"user":"packer8@nikura.com","date":"2025-09-24T09:35:20.713Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:34:46.463Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:34:32.7Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:34:11.34Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:33:20.073Z"},{"user":"packer8@nikura.com","date":"2025-09-24T09:33:17.613Z"},{"user":"packer1@nikura.com","date":"2025-09-24T09:33:01.14Z"},{"user":"packer8@nikura.com","date":"2025-09-24T09:31:31.707Z"},{"user":"packer6@nikura.com","date":"2025-09-24T09:31:16.783Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:30:17.29Z"},{"user":"packer8@nikura.com","date":"2025-09-24T09:29:22.71Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:29:00.97Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:27:46.68Z"},{"user":"packer8@nikura.com","date":"2025-09-24T09:26:44.563Z"},{"user":"packer1@nikura.com","date":"2025-09-24T09:26:43.417Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:24:47.06Z"},{"user":"packer8@nikura.com","date":"2025-09-24T09:24:16.693Z"},{"user":"packer1@nikura.com","date":"2025-09-24T09:23:28.053Z"},{"user":"packer6@nikura.com","date":"2025-09-24T09:22:57.013Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:21:36.85Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:21:10.37Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:18:46.107Z"},{"user":"packer6@nikura.com","date":"2025-09-24T09:17:54.92Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:17:20.77Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:16:08.8Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:15:52.183Z"},{"user":"packer8@nikura.com","date":"2025-09-24T09:15:41.58Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:14:53.43Z"},{"user":"packer8@nikura.com","date":"2025-09-24T09:13:50.253Z"},{"user":"packer6@nikura.com","date":"2025-09-24T09:12:42.09Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:11:08.32Z"},{"user":"packer8@nikura.com","date":"2025-09-24T09:11:02.883Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:09:20.233Z"},{"user":"packer8@nikura.com","date":"2025-09-24T09:08:47.64Z"},{"user":"packer6@nikura.com","date":"2025-09-24T09:08:26.593Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:07:18.17Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:06:15.383Z"},{"user":"packer8@nikura.com","date":"2025-09-24T09:05:57.733Z"},{"user":"packer7@nikura.com","date":"2025-09-24T09:05:40.897Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:04:51.843Z"},{"user":"packer6@nikura.com","date":"2025-09-24T09:04:38.883Z"},{"user":"packer8@nikura.com","date":"2025-09-24T09:03:36.04Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:02:25.94Z"},{"user":"packer3@nikura.com","date":"2025-09-24T09:00:10.007Z"},{"user":"packer6@nikura.com","date":"2025-09-24T09:00:03.707Z"},{"user":"packer8@nikura.com","date":"2025-09-24T08:59:14.01Z"},{"user":"packer3@nikura.com","date":"2025-09-24T08:59:11.42Z"},{"user":"packer8@nikura.com","date":"2025-09-24T08:58:01.527Z"},{"user":"packer6@nikura.com","date":"2025-09-24T08:57:09.603Z"},{"user":"packer6@nikura.com","date":"2025-09-24T08:52:07.18Z"},{"user":"packer7@nikura.com","date":"2025-09-24T08:51:12.457Z"},{"user":"packer6@nikura.com","date":"2025-09-24T08:49:10.4Z"},{"user":"packer7@nikura.com","date":"2025-09-24T08:49:06.267Z"},{"user":"packer3@nikura.com","date":"2025-09-24T08:48:45.337Z"},{"user":"packer7@nikura.com","date":"2025-09-24T08:47:07.78Z"},{"user":"packer3@nikura.com","date":"2025-09-24T08:47:04.18Z"},{"user":"packer6@nikura.com","date":"2025-09-24T08:45:01.013Z"},{"user":"packer3@nikura.com","date":"2025-09-24T08:44:14.05Z"},{"user":"packer7@nikura.com","date":"2025-09-24T08:43:41.473Z"},{"user":"packer8@nikura.com","date":"2025-09-24T08:43:16.627Z"},{"user":"packer3@nikura.com","date":"2025-09-24T08:42:48.07Z"},{"user":"packer3@nikura.com","date":"2025-09-24T08:41:30.31Z"},{"user":"packer7@nikura.com","date":"2025-09-24T08:40:33.327Z"},{"user":"packer8@nikura.com","date":"2025-09-24T08:39:49.91Z"},{"user":"packer6@nikura.com","date":"2025-09-24T08:39:46.717Z"},{"user":"packer3@nikura.com","date":"2025-09-24T08:39:34.06Z"},{"user":"packer3@nikura.com","date":"2025-09-24T08:38:26.01Z"},{"user":"packer3@nikura.com","date":"2025-09-24T08:37:16.973Z"},{"user":"packer7@nikura.com","date":"2025-09-24T08:36:51.01Z"},{"user":"packer8@nikura.com","date":"2025-09-24T08:37:01.73Z"},{"user":"packer7@nikura.com","date":"2025-09-24T08:35:31.833Z"},{"user":"packer6@nikura.com","date":"2025-09-24T08:34:54.13Z"},{"user":"packer8@nikura.com","date":"2025-09-24T08:32:29.943Z"},{"user":"packer6@nikura.com","date":"2025-09-24T08:31:18.837Z"},{"user":"packer7@nikura.com","date":"2025-09-24T08:29:54.24Z"},{"user":"packer6@nikura.com","date":"2025-09-24T08:27:14.973Z"},{"user":"packer7@nikura.com","date":"2025-09-24T08:21:58.47Z"},{"user":"packer6@nikura.com","date":"2025-09-24T08:21:13.66Z"},{"user":"packer7@nikura.com","date":"2025-09-24T08:14:38.773Z"},{"user":"packer7@nikura.com","date":"2025-09-24T08:12:58.063Z"},{"user":"packer7@nikura.com","date":"2025-09-24T07:54:09.36Z"},{"user":"packer7@nikura.com","date":"2025-09-24T07:49:17.877Z"},{"user":"packer7@nikura.com","date":"2025-09-24T07:44:49.123Z"},{"user":"packer7@nikura.com","date":"2025-09-24T07:43:33.7Z"},{"user":"packer7@nikura.com","date":"2025-09-24T07:39:24.09Z"},{"user":"packer7@nikura.com","date":"2025-09-24T07:34:59.983Z"},{"user":"packer7@nikura.com","date":"2025-09-24T07:31:52.537Z"},{"user":"packer7@nikura.com","date":"2025-09-24T07:29:23.977Z"},{"user":"packer7@nikura.com","date":"2025-09-24T07:26:51.32Z"},{"user":"packer7@nikura.com","date":"2025-09-24T07:24:27.503Z"},{"user":"packer7@nikura.com","date":"2025-09-24T07:22:15.987Z"},{"user":"packer7@nikura.com","date":"2025-09-24T07:20:25.747Z"},{"user":"packer7@nikura.com","date":"2025-09-24T07:17:49.643Z"},{"user":"packer7@nikura.com","date":"2025-09-24T07:16:28.683Z"},{"user":"packer7@nikura.com","date":"2025-09-24T07:15:23.12Z"},{"user":"packer9@nikura.com","date":"2025-09-24T11:39:32.92Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:11:00.657Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:55:13.483Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:29:23.807Z"},{"user":"packer6@nikura.com","date":"2025-09-24T13:21:53.8Z"},{"user":"packer8@nikura.com","date":"2025-09-24T13:21:02.02Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:19:26.48Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:18:20.09Z"},{"user":"packer7@nikura.com","date":"2025-09-24T13:18:19.633Z"},{"user":"packer6@nikura.com","date":"2025-09-24T13:18:05.23Z"},{"user":"packer7@nikura.com","date":"2025-09-24T13:15:22.357Z"},{"user":"packer8@nikura.com","date":"2025-09-24T13:14:40.26Z"},{"user":"packer6@nikura.com","date":"2025-09-24T13:13:31.96Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:13:03.627Z"},{"user":"packer7@nikura.com","date":"2025-09-24T13:12:56.12Z"},{"user":"packer8@nikura.com","date":"2025-09-24T13:10:05.08Z"},{"user":"packer7@nikura.com","date":"2025-09-24T13:10:29.183Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:10:17.157Z"},{"user":"packer7@nikura.com","date":"2025-09-24T13:08:47.53Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:08:27.383Z"},{"user":"packer9@nikura.com","date":"2025-09-24T13:07:59.527Z"},{"user":"packer6@nikura.com","date":"2025-09-24T13:07:50.47Z"},{"user":"packer3@nikura.com","date":"2025-09-24T13:07:34.473Z"},{"user":"packer9@nikura.com","date":"2025-09-24T13:07:25.123Z"},{"user":"packer9@nikura.com","date":"2025-09-24T13:06:38.977Z"},{"user":"packer9@nikura.com","date":"2025-09-24T13:06:15.02Z"},{"user":"packer7@nikura.com","date":"2025-09-24T13:06:06.71Z"},{"user":"packer8@nikura.com","date":"2025-09-24T13:05:48.05Z"},{"user":"packer9@nikura.com","date":"2025-09-24T13:05:35.73Z"},{"user":"packer9@nikura.com","date":"2025-09-24T13:05:18.54Z"},{"user":"packer6@nikura.com","date":"2025-09-24T13:05:18.44Z"},{"user":"packer6@nikura.com","date":"2025-09-24T13:02:30.777Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:59:04.31Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:59:13.19Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:58:54.07Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:58:28.997Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:58:11.173Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:57:58.7Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:57:29.567Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:56:55.687Z"},{"user":"packer8@nikura.com","date":"2025-09-24T12:56:24.617Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:56:02.947Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:55:48.763Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:55:44.753Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:54:52.773Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:54:17.187Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:54:01.65Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:53:58.71Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:52:48.49Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:52:11.29Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:51:46.99Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:51:42.347Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:51:28.663Z"},{"user":"packer8@nikura.com","date":"2025-09-24T12:51:18.67Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:50:40.333Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:51:10.037Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:49:35.62Z"},{"user":"packer8@nikura.com","date":"2025-09-24T12:48:07.553Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:48:00.1Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:47:05.64Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:47:18.08Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:47:01.447Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:46:41.307Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:44:48.113Z"},{"user":"packer8@nikura.com","date":"2025-09-24T12:43:26.193Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:41:35.437Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:40:06.227Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:40:13.8Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:40:28.183Z"},{"user":"packer8@nikura.com","date":"2025-09-24T12:40:29.453Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:39:30.98Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:38:42.907Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:37:44Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:37:27.897Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:37:24.673Z"},{"user":"packer8@nikura.com","date":"2025-09-24T12:37:21.53Z"},{"user":"packer1@nikura.com","date":"2025-09-24T12:37:07.017Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:36:52.57Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:36:35.04Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:36:31.19Z"},{"user":"packer1@nikura.com","date":"2025-09-24T12:36:18.33Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:36:13.653Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:35:32.52Z"},{"user":"packer1@nikura.com","date":"2025-09-24T12:35:19.407Z"},{"user":"packer8@nikura.com","date":"2025-09-24T12:34:29.79Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:33:35.417Z"},{"user":"packer1@nikura.com","date":"2025-09-24T12:33:31.43Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:33:11.497Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:33:05.07Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:32:41.483Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:32:36.17Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:32:19.337Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:32:08.987Z"},{"user":"packer1@nikura.com","date":"2025-09-24T12:32:07.983Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:31:33.897Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:30:56.63Z"},{"user":"packer8@nikura.com","date":"2025-09-24T12:30:56.173Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:30:29.383Z"},{"user":"packer1@nikura.com","date":"2025-09-24T12:30:23.853Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:30:19.117Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:30:04.173Z"},{"user":"packer8@nikura.com","date":"2025-09-24T12:28:54.583Z"},{"user":"packer1@nikura.com","date":"2025-09-24T12:28:35.42Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:28:12.277Z"},{"user":"packer1@nikura.com","date":"2025-09-24T12:27:13.247Z"},{"user":"packer8@nikura.com","date":"2025-09-24T12:26:54.533Z"},{"user":"packer1@nikura.com","date":"2025-09-24T12:25:37.69Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:24:23.857Z"},{"user":"packer8@nikura.com","date":"2025-09-24T12:24:03.623Z"},{"user":"packer1@nikura.com","date":"2025-09-24T12:23:56.253Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:23:09.55Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:23:41.527Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:22:35.437Z"},{"user":"packer8@nikura.com","date":"2025-09-24T12:22:15.837Z"},{"user":"packer1@nikura.com","date":"2025-09-24T12:22:07.433Z"},{"user":"packer7@nikura.com","date":"2025-09-24T12:21:38.683Z"},{"user":"packer1@nikura.com","date":"2025-09-24T12:20:13.457Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:19:47.797Z"},{"user":"packer8@nikura.com","date":"2025-09-24T12:19:29.32Z"},{"user":"packer8@nikura.com","date":"2025-09-24T12:17:04.263Z"},{"user":"packer8@nikura.com","date":"2025-09-24T12:11:57.573Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:09:05.857Z"},{"user":"packer8@nikura.com","date":"2025-09-24T12:06:09.413Z"},{"user":"packer9@nikura.com","date":"2025-09-24T12:03:11.27Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:59:18.093Z"},{"user":"packer9@nikura.com","date":"2025-09-24T11:58:55.007Z"},{"user":"packer6@nikura.com","date":"2025-09-24T11:57:40.397Z"},{"user":"packer8@nikura.com","date":"2025-09-24T11:56:59.897Z"},{"user":"packer7@nikura.com","date":"2025-09-24T11:56:53.157Z"},{"user":"packer9@nikura.com","date":"2025-09-24T11:56:44.273Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:55:53.897Z"},{"user":"packer7@nikura.com","date":"2025-09-24T11:55:20.637Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:54:59.903Z"},{"user":"packer6@nikura.com","date":"2025-09-24T11:54:37.22Z"},{"user":"packer8@nikura.com","date":"2025-09-24T11:54:23.69Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:53:49.25Z"},{"user":"packer7@nikura.com","date":"2025-09-24T11:53:23.143Z"},{"user":"packer9@nikura.com","date":"2025-09-24T11:53:03.55Z"},{"user":"packer7@nikura.com","date":"2025-09-24T11:51:32.2Z"},{"user":"packer6@nikura.com","date":"2025-09-24T11:51:24.217Z"},{"user":"packer9@nikura.com","date":"2025-09-24T11:50:45.743Z"},{"user":"packer8@nikura.com","date":"2025-09-24T11:49:33.033Z"},{"user":"packer7@nikura.com","date":"2025-09-24T11:48:34.613Z"},{"user":"packer6@nikura.com","date":"2025-09-24T11:46:56.82Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:46:53.197Z"},{"user":"packer6@nikura.com","date":"2025-09-24T11:45:26.88Z"},{"user":"packer6@nikura.com","date":"2025-09-24T11:43:36.723Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:43:05.913Z"},{"user":"packer6@nikura.com","date":"2025-09-24T11:42:11.88Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:41:11.97Z"},{"user":"packer9@nikura.com","date":"2025-09-24T11:41:17.93Z"},{"user":"packer6@nikura.com","date":"2025-09-24T11:40:53.993Z"},{"user":"packer9@nikura.com","date":"2025-09-24T11:40:09.137Z"},{"user":"packer8@nikura.com","date":"2025-09-24T11:39:41.203Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:39:19.91Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:38:35.27Z"},{"user":"packer6@nikura.com","date":"2025-09-24T11:38:40.62Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:37:43.313Z"},{"user":"packer6@nikura.com","date":"2025-09-24T11:37:03.82Z"},{"user":"packer8@nikura.com","date":"2025-09-24T11:36:33.96Z"},{"user":"packer6@nikura.com","date":"2025-09-24T11:36:14.23Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:36:11.197Z"},{"user":"packer9@nikura.com","date":"2025-09-24T11:35:37.323Z"},{"user":"packer6@nikura.com","date":"2025-09-24T11:35:05.297Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:35:11.513Z"},{"user":"packer8@nikura.com","date":"2025-09-24T11:34:26.273Z"},{"user":"packer6@nikura.com","date":"2025-09-24T11:33:32.323Z"},{"user":"packer8@nikura.com","date":"2025-09-24T11:31:46.53Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:30:59.13Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:29:19.9Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:27:53.04Z"},{"user":"packer8@nikura.com","date":"2025-09-24T11:26:07.02Z"},{"user":"packer6@nikura.com","date":"2025-09-24T11:25:59.233Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:24:05.19Z"},{"user":"packer6@nikura.com","date":"2025-09-24T11:19:54.407Z"},{"user":"packer8@nikura.com","date":"2025-09-24T11:19:13.993Z"},{"user":"packer8@nikura.com","date":"2025-09-24T11:16:33.297Z"},{"user":"packer6@nikura.com","date":"2025-09-24T11:14:17.1Z"},{"user":"packer8@nikura.com","date":"2025-09-24T11:12:34.06Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:12:33.03Z"},{"user":"packer6@nikura.com","date":"2025-09-24T11:10:15.063Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:10:02.88Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:09:00.917Z"},{"user":"packer6@nikura.com","date":"2025-09-24T11:06:15.027Z"},{"user":"packer8@nikura.com","date":"2025-09-24T11:05:18.93Z"},{"user":"packer3@nikura.com","date":"2025-09-24T11:01:41.9Z"},{"user":"packer3@nikura.com","date":"2025-09-24T10:59:41.673Z"},{"user":"packer6@nikura.com","date":"2025-09-24T10:58:43.52Z"},{"user":"packer7@nikura.com","date":"2025-09-24T10:55:21.413Z"},{"user":"packer6@nikura.com","date":"2025-09-24T10:55:05.24Z"},{"user":"packer3@nikura.com","date":"2025-09-24T10:53:25.45Z"},{"user":"packer7@nikura.com","date":"2025-09-24T10:53:07.053Z"},{"user":"packer6@nikura.com","date":"2025-09-24T10:51:50.337Z"},{"user":"packer3@nikura.com","date":"2025-09-24T10:51:23.34Z"},{"user":"packer7@nikura.com","date":"2025-09-24T10:49:44.813Z"},{"user":"packer3@nikura.com","date":"2025-09-24T10:48:50.263Z"},{"user":"packer6@nikura.com","date":"2025-09-24T10:48:23.34Z"},{"user":"packer8@nikura.com","date":"2025-09-24T10:46:53.85Z"},{"user":"packer8@nikura.com","date":"2025-09-24T10:44:29.937Z"},{"user":"packer7@nikura.com","date":"2025-09-24T10:44:26.727Z"}];
const HOUR_LABELS_ALL = ["Midnight-1am","1am-2am","2am-3am","3am-4am","4am-5am","5am-6am","6am-7am","7am-8am","8am-9am","9am-10am","10am-11am","11am-Noon","Noon-1pm","1pm-2pm","2pm-3pm","3pm-4pm","4pm-5pm","5pm-6pm","6pm-7pm","7pm-8pm","8pm-9pm","9pm-10pm","10pm-11pm","11pm-midnight"];
const ALL_USERS = ["packer1@nikura.com","packer3@nikura.com","packer6@nikura.com","packer7@nikura.com","packer8@nikura.com","packer9@nikura.com"];

function toLondonHour(dateish){
  const d = (dateish instanceof Date) ? dateish : new Date(dateish);
  return Number(new Intl.DateTimeFormat('en-GB',{ timeZone:'Europe/London', hour:'numeric', hour12:false }).format(d));
}
function esc(s=""){ return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"); }
function ymd(dateish){ const d=new Date(dateish); const z=n=>String(n).padStart(2,'0'); return d.getFullYear()+"-"+z(d.getMonth()+1)+"-"+z(d.getDate()); }

function buildGroupedBarSVG(rows, labels){
  const padding={top:30,right:20,bottom:70,left:50};
  const w=Math.max(700, labels.length*70), h=320;
  const innerW=w-padding.left-padding.right, innerH=h-padding.top-padding.bottom;
  const maxVal=Math.max(1, ...rows.flatMap(r=> r.buckets.map(v=> (typeof v==='number'?v:0))));
  const nGroups=labels.length, nSeries=rows.length;
  const groupWidth=innerW/nGroups, barGap=6, barWidth=Math.max(8,(groupWidth - barGap*(nSeries+1))/nSeries);
  const colors=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D"];
  let svg = '<svg width="'+w+'" height="'+h+'" xmlns="http://www.w3.org/2000/svg"><g transform="translate('+padding.left+','+padding.top+')">';
  const ticks=[0,0.25,0.5,0.75,1].map(t=>Math.round(t*maxVal));
  for(const t of ticks){
    const y=innerH-(t/maxVal)*innerH;
    svg += '<line x1="0" y1="'+y+'" x2="'+innerW+'" y2="'+y+'" stroke="#eee"/>';
    svg += '<text x="-6" y="'+(y+4)+'" text-anchor="end" font-size="11">'+t+'</text>';
  }
  labels.forEach((lab,gi)=>{
    const x=gi*groupWidth+groupWidth/2;
    svg += '<text x="'+x+'" y="'+(innerH+18)+'" text-anchor="middle" font-size="11">'+esc(lab)+'</text>';
  });
  labels.forEach((_,gi)=>{
    const groupX=gi*groupWidth;
    rows.forEach((r,si)=>{
      const val=(typeof r.buckets[gi]==='number')?r.buckets[gi]:0;
      const barH=(val/maxVal)*innerH;
      const x=groupX+barGap+si*(barWidth+barGap);
      const y=innerH-barH;
      svg += '<rect data-series="'+si+'" x="'+x+'" y="'+y+'" width="'+barWidth+'" height="'+barH+'" fill="'+colors[si%colors.length]+'"/>';
    });
  });
  svg += '</g></svg>';
  return svg;
}

function buildCompactTable(headers, rows){
  let html = '<table><thead><tr><th>User</th><th>Total Dispatched</th>';
  headers.forEach(h=> html += '<th>'+esc(h)+'</th>');
  html += '</tr></thead><tbody>';
  rows.forEach(r=>{
    const baseUser = String(r.userLabel).replace(' Avg/min Order','');
    html += '<tr data-user="'+esc(baseUser)+'"><td>'+esc(r.userLabel)+'</td><td>'+esc(r.total||'')+'</td>';
    r.buckets.forEach(v=> html += '<td>'+esc(v)+'</td>');
    html += '</tr>';
  });
  html += '</tbody></table>';
  return html;
}

function buildTotalsTable(users, byUser){
  let html = '<table style="width:40%;margin-top:10px"><thead><tr><th>User</th><th>Total</th></tr></thead><tbody>';
  users.forEach(u=> html += '<tr data-user="'+esc(u)+'"><td>'+esc(u)+'</td><td>'+byUser[u].total+'</td></tr>');
  html += '</tbody></table>';
  return html;
}

function aggregate(events){
  const byUser = {};
  for(const ev of events){
    const hour = toLondonHour(ev.date);
    const u = ev.user || "UNKNOWN";
    if(!byUser[u]) byUser[u] = { total:0, hours:Array(24).fill(0), times:[] };
    byUser[u].total++; byUser[u].hours[hour]++; byUser[u].times.push(new Date(ev.date));
  }
  const users = Object.keys(byUser).sort((a,b)=>byUser[b].total - byUser[a].total);
  const used = Array(24).fill(false);
  for(const u of users) byUser[u].hours.forEach((v,i)=>{ if(v>0) used[i]=true; });
  const keep = used.map((x,i)=>x?i:-1).filter(i=>i>=0);
  const labels = keep.map(i=> HOUR_LABELS_ALL[i]);
  const compactRows = [];
  users.forEach(u=>{
    compactRows.push({ userLabel:u, total:byUser[u].total, buckets: keep.map(i=>byUser[u].hours[i]) });
    compactRows.push({ userLabel:u+" Avg/min Order", total:"", buckets: keep.map(i=>{
      const times = byUser[u].times.filter(t=> toLondonHour(t)===i).sort((a,b)=>a-b);
      if(times.length<=1) return 0;
      const mins=(times[times.length-1]-times[0])/60000;
      const avg=mins/(times.length-1);
      if(!isFinite(avg)||avg<=0) return 0;
      const m=Math.floor(avg), s=Math.round((avg-m)*60);
      return m+'m '+s+'s';
    })});
  });
  return { byUser, users, keep, labels, compactRows };
}

function applyUserFilter(){
  const toggles = document.querySelectorAll('.user-toggle');
  const selected = Array.from(toggles).filter(t=>t.checked).map(t=>t.dataset.user);
  document.querySelectorAll('table tbody tr').forEach(row=>{
    const u=row.getAttribute('data-user');
    row.style.display = selected.includes(u)? '': 'none';
  });
  document.querySelectorAll('svg g rect').forEach(rect=>{
    const idx=rect.dataset.series;
    if(idx!==undefined){
      const u=window.__currentUsers[Number(idx)];
      rect.style.display = selected.includes(u)? '': 'none';
    }
  });
}

function recalc(){
  const from = document.getElementById('fromDate').value;
  const to   = document.getElementById('toDate').value;
  const fromTs = from ? new Date(from+'T00:00:00Z').getTime() : -Infinity;
  const toTs   = to   ? new Date(to  +'T23:59:59.999Z').getTime() :  Infinity;

  const filtered = RAW_EVENTS.filter(ev=>{
    const ts = new Date(ev.date).getTime();
    return ts>=fromTs && ts<=toTs;
  });

  const {byUser, users, keep, labels, compactRows} = aggregate(filtered);

  document.getElementById('rangeInfo').textContent = 'Rows in range: '+filtered.length;
  document.getElementById('table-wrapper').innerHTML = buildCompactTable(labels, compactRows);

  const orderRows = users.map(u=>({ user:u, buckets: keep.map(i=> byUser[u].hours[i]) }));
  const avgRows   = users.map(u=>({ user:u, buckets: keep.map(i=>{
    const times=(byUser[u].times||[]).filter(t=> toLondonHour(t)===i).sort((a,b)=>a-b);
    if(times.length<=1) return 0;
    const mins=(times[times.length-1]-times[0])/60000;
    return mins/(times.length-1);
  })}));

  document.getElementById('chart-orders').innerHTML = buildGroupedBarSVG(orderRows, labels);
  document.getElementById('chart-avg').innerHTML    = buildGroupedBarSVG(avgRows, labels);
  document.getElementById('totals-table').innerHTML = buildTotalsTable(users, byUser);

  window.__currentUsers = users.slice();
  applyUserFilter();
}

(function init(){
  document.getElementById('applyBtn').addEventListener('click', recalc);
  document.querySelectorAll('.user-toggle').forEach(t=> t.addEventListener('change', applyUserFilter));
  recalc();
})();
</script>

</body>
</html>